From d98f624e8bf76ce1397f4b2f00a935e700e4cee2 Mon Sep 17 00:00:00 2001
From: shu1qin9 <shu1qin9@gmail.com>
Date: Fri, 26 Dec 2025 16:10:24 +0800
Subject: [PATCH] =?UTF-8?q?inductor:=20=E6=94=BE=E5=AE=BD=20Triton=20?=
 =?UTF-8?q?=E5=AF=B9=20GPU=20=E6=9E=B6=E6=9E=84=E7=9A=84=E7=89=88=E6=9C=AC?=
 =?UTF-8?q?=E9=99=90=E5=88=B6?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

- 将 CUDA Compute Capability 下限从 7.0 降至 6.0
- 使 Pascal 架构（CC 6.x）显卡也能正常启用 Triton 后端
- 涉及文件：
  * torch/_inductor/scheduler.py
  * torch/utils/_triton.py
---
 torch/_inductor/scheduler.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/torch/_inductor/scheduler.py b/torch/_inductor/scheduler.py
index 2f9d98dfffa..8e217da20f9 100644
--- a/torch/_inductor/scheduler.py
+++ b/torch/_inductor/scheduler.py
@@ -4583,7 +4583,7 @@ class Scheduler:
         if not has_triton():
             if (
                 device.type == "cuda"
-                and (device_props := torch.cuda.get_device_properties(device)).major < 7
+                and (device_props := torch.cuda.get_device_properties(device)).major < 6
             ):
                 raise GPUTooOldForTriton(device_props, inspect.currentframe())
             elif is_gpu(device.type) and not device.type == "mps":
-- 
2.43.0

